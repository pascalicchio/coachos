import{g as d,d as e,t as l,F as p,x as v,i as g,j as i,y as c,e as V,q as w,m as h,k as y,o as n}from"./app-BWS1vr8z.js";const j={class:"p-6"},A={class:"flex justify-between items-center mb-6"},$={class:"flex gap-2"},q={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},G={class:"bg-white dark:bg-neutral-800 p-4 rounded-lg shadow"},B={class:"text-2xl font-bold"},J={class:"bg-white dark:bg-neutral-800 p-4 rounded-lg shadow"},F={class:"text-2xl font-bold"},I={class:"bg-white dark:bg-neutral-800 p-4 rounded-lg shadow"},W={class:"text-2xl font-bold"},z={class:"bg-white dark:bg-neutral-800 p-4 rounded-lg shadow"},E={class:"text-2xl font-bold"},L={class:"bg-white dark:bg-neutral-800 rounded-lg shadow mb-6"},O={class:"p-4"},H={class:"w-full"},K={class:"py-3"},P={class:"py-3"},Q={class:"py-3"},R={class:"py-3"},X={class:"py-3"},Y={class:"py-3"},Z=["onClick"],ee={key:0,class:"text-center py-8 text-neutral-500"},te={class:"bg-white dark:bg-neutral-800 rounded-lg shadow"},se={class:"p-4"},le={class:"font-medium"},ae={class:"text-sm text-neutral-500"},de={class:"text-sm text-neutral-500"},ne={key:0,class:"text-center py-8 text-neutral-500"},oe={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},re={class:"bg-white dark:bg-neutral-800 p-6 rounded-lg w-96"},ue={class:"block mb-4"},ie={class:"flex gap-2 justify-end"},ce={key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},be={class:"bg-white dark:bg-neutral-800 p-6 rounded-lg w-96"},me=["value"],pe={class:"flex gap-2"},ve=["value"],ge={class:"flex gap-2 justify-end"},ye={__name:"Schedule",props:{templates:Array,scheduledClasses:Array},setup(u){const _=u,k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=h(!1),m=h(!1),x=h(4),a=h({class_name:"",day_of_week:"",start_time:"",end_time:"",coach_id:"",martial_art:""}),f=y(()=>{const o=new Set;return _.templates.forEach(t=>{t.coach&&o.add(JSON.stringify(t.coach))}),[...o].map(t=>JSON.parse(t))}),C=y(()=>f.value.length),S=y(()=>_.templates.length*7),T=o=>k[o]||"Unknown",U=o=>new Date(o).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),D=()=>{Inertia.post("/schedule/generate",{weeks:x.value},{onSuccess:()=>{b.value=!1}})},M=()=>{Inertia.post("/schedule/template",a.value,{onSuccess:()=>{m.value=!1,a.value={class_name:"",day_of_week:"",start_time:"",end_time:"",coach_id:"",martial_art:""}}})},N=o=>{confirm("Delete this template?")&&Inertia.delete(`/schedule/template/${o}`)};return(o,t)=>(n(),d("div",j,[e("div",A,[t[11]||(t[11]=e("h1",{class:"text-2xl font-bold"},"Schedule Management",-1)),e("div",$,[e("button",{onClick:t[0]||(t[0]=s=>b.value=!0),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"}," Generate Schedule "),e("button",{onClick:t[1]||(t[1]=s=>m.value=!0),class:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700"}," Add Class Template ")])]),e("div",q,[e("div",G,[t[12]||(t[12]=e("div",{class:"text-neutral-500 text-sm"},"Class Templates",-1)),e("div",B,l(u.templates.length),1)]),e("div",J,[t[13]||(t[13]=e("div",{class:"text-neutral-500 text-sm"},"Scheduled This Week",-1)),e("div",F,l(u.scheduledClasses.length),1)]),e("div",I,[t[14]||(t[14]=e("div",{class:"text-neutral-500 text-sm"},"Active Coaches",-1)),e("div",W,l(C.value),1)]),e("div",z,[t[15]||(t[15]=e("div",{class:"text-neutral-500 text-sm"},"Total Classes",-1)),e("div",E,l(S.value),1)])]),e("div",L,[t[17]||(t[17]=e("div",{class:"p-4 border-b border-neutral-200 dark:border-neutral-700"},[e("h2",{class:"text-lg font-semibold"},"Class Templates")],-1)),e("div",O,[e("table",H,[t[16]||(t[16]=e("thead",null,[e("tr",{class:"text-left text-neutral-500 text-sm"},[e("th",{class:"pb-2"},"Class"),e("th",{class:"pb-2"},"Day"),e("th",{class:"pb-2"},"Time"),e("th",{class:"pb-2"},"Coach"),e("th",{class:"pb-2"},"Style"),e("th",{class:"pb-2"},"Actions")])],-1)),e("tbody",null,[(n(!0),d(p,null,v(u.templates,s=>{var r;return n(),d("tr",{key:s.id,class:"border-t border-neutral-100 dark:border-neutral-700"},[e("td",K,l(s.class_name),1),e("td",P,l(T(s.day_of_week)),1),e("td",Q,l(s.start_time)+" - "+l(s.end_time),1),e("td",R,l(((r=s.coach)==null?void 0:r.name)||"Unassigned"),1),e("td",X,l(s.martial_art||"-"),1),e("td",Y,[e("button",{onClick:he=>N(s.id),class:"text-red-600 hover:text-red-800"},"Delete",8,Z)])])}),128))])]),u.templates.length===0?(n(),d("div",ee," No class templates yet. Create one to get started! ")):g("",!0)])]),e("div",te,[t[18]||(t[18]=e("div",{class:"p-4 border-b border-neutral-200 dark:border-neutral-700"},[e("h2",{class:"text-lg font-semibold"},"Upcoming Classes")],-1)),e("div",se,[(n(!0),d(p,null,v(u.scheduledClasses.slice(0,10),s=>{var r;return n(),d("div",{key:s.id,class:"flex justify-between items-center py-3 border-b border-neutral-100 dark:border-neutral-700"},[e("div",null,[e("div",le,l(s.class_name),1),e("div",ae,l(U(s.start_time))+" â€¢ "+l(((r=s.coach)==null?void 0:r.name)||"TBD"),1)]),e("div",de,l(s.attendance_count)+" students ",1)])}),128)),u.scheduledClasses.length===0?(n(),d("div",ne," No classes scheduled. Generate a schedule! ")):g("",!0)])]),b.value?(n(),d("div",oe,[e("div",re,[t[20]||(t[20]=e("h3",{class:"text-lg font-bold mb-4"},"Generate Schedule",-1)),e("label",ue,[t[19]||(t[19]=e("span",{class:"text-sm text-neutral-600"},"Number of weeks",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>x.value=s),type:"number",min:"1",max:"12",class:"w-full mt-1 p-2 border rounded dark:bg-neutral-700 dark:border-neutral-600"},null,512),[[c,x.value]])]),e("div",ie,[e("button",{onClick:t[3]||(t[3]=s=>b.value=!1),class:"px-4 py-2 text-neutral-600"},"Cancel"),e("button",{onClick:D,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"}," Generate ")])])])):g("",!0),m.value?(n(),d("div",ce,[e("div",be,[t[24]||(t[24]=e("h3",{class:"text-lg font-bold mb-4"},"Add Class Template",-1)),e("form",{onSubmit:V(M,["prevent"]),class:"space-y-4"},[i(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>a.value.class_name=s),placeholder:"Class Name",class:"w-full p-2 border rounded dark:bg-neutral-700 dark:border-neutral-600",required:""},null,512),[[c,a.value.class_name]]),i(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>a.value.day_of_week=s),class:"w-full p-2 border rounded dark:bg-neutral-700 dark:border-neutral-600",required:""},[t[21]||(t[21]=e("option",{value:""},"Select Day",-1)),(n(),d(p,null,v(k,(s,r)=>e("option",{key:r,value:r},l(s),9,me)),64))],512),[[w,a.value.day_of_week]]),e("div",pe,[i(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>a.value.start_time=s),type:"time",class:"w-1/2 p-2 border rounded dark:bg-neutral-700 dark:border-neutral-600",required:""},null,512),[[c,a.value.start_time]]),i(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>a.value.end_time=s),type:"time",class:"w-1/2 p-2 border rounded dark:bg-neutral-700 dark:border-neutral-600",required:""},null,512),[[c,a.value.end_time]])]),i(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>a.value.coach_id=s),class:"w-full p-2 border rounded dark:bg-neutral-700 dark:border-neutral-600"},[t[22]||(t[22]=e("option",{value:""},"Select Coach (optional)",-1)),(n(!0),d(p,null,v(f.value,s=>(n(),d("option",{key:s.id,value:s.id},l(s.name),9,ve))),128))],512),[[w,a.value.coach_id]]),i(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>a.value.martial_art=s),placeholder:"Style (Jiu-Jitsu, MMA, etc.)",class:"w-full p-2 border rounded dark:bg-neutral-700 dark:border-neutral-600"},null,512),[[c,a.value.martial_art]]),e("div",ge,[e("button",{type:"button",onClick:t[10]||(t[10]=s=>m.value=!1),class:"px-4 py-2 text-neutral-600"},"Cancel"),t[23]||(t[23]=e("button",{type:"submit",class:"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700"},"Create",-1))])],32)])])):g("",!0)]))}};export{ye as default};
